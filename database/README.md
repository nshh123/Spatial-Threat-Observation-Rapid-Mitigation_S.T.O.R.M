# Project Structure Overview
When a sensor (such as radar, ADS-B receiver, or optical device) detects an aerial object, it inserts a new record into the sensor_data table. This insertion acts as the main trigger point for the entire automated threat detection workflow in the system. From this point, the process is fully automated using PL/SQL triggers and package procedures.
- *[see configuration_scripts](https://github.com/nshh123/Spatial-Threat-Observation-Rapid-Mitigation_S.T.O.R.M/blob/main/DB_Conf/01-Tablespace_conf.sql)*
- *[see configuration_sceenshots](https://github.com/nshh123/Spatial-Threat-Observation-Rapid-Mitigation_S.T.O.R.M/tree/main/DB_Conf/Tablespace_conf_screenshots)*
- *[see project_scripts](https://github.com/nshh123/Spatial-Threat-Observation-Rapid-Mitigation_S.T.O.R.M/tree/main/database/scripts)*
- *[see project_sceenshots](https://github.com/nshh123/Spatial-Threat-Observation-Rapid-Mitigation_S.T.O.R.M/tree/main/database/screenshots)*

## Step 1: Sensor Data Insertion
A physical or simulated sensor captures flight-related information such as:     
- Latitude and longitude
- Altitude in feet
- Speed in knots
- Heading direction
- Transponder status (on/off)
- Aircraft callsign or object ID
This information is inserted into the sensor_data table, creating a new record representing a detected object in the airspace.

## Step 2: Automatic Trigger Activation
Immediately after the insert, the database trigger trg_sensor_data_threat is automatically executed. This trigger is configured to run for each row inserted into the table, meaning every sensor detection is processed independently in real time.

## Step 3: Threat Level Analysis
Inside the trigger, the system calls the function storm_pkg.compute_threat_level. This function analyzes the sensor data and applies predefined intelligence rules, such as:
- Whether the transponder is turned off
- How low the aircraft is flying
- How slow or fast the object is moving                 
Based on these conditions, the function assigns a threat level:                              
- Low
- Medium
- High
- Critical

## Step 4: Zone Identification
The system then calls another package function, `storm_pkg.find_zone_by_location`, which checks whether the object is within a restricted or monitored zone. This is done by comparing the latitude and longitude against known zone boundaries. If the object is inside a monitored area, the related `zone_id` is retrieved.

## Step 5: Threat Logging
If the computed threat level is Medium, High, or Critical, the system treats the object as suspicious. It then calls the `storm_pkg.create_threat` function, which inserts a new record into the `threat_log` table. This record stores:           
- The sensor data reference
- Aircraft ID (if known)
- Detection timestamp
- Threat level
- Reason for the threat
- Zone information
- Current handling status (defaulted to “Open”) 

## Step 6: Automatic Alert Generation
After a threat is inserted, the second trigger, `trg_threat_alerts`, is automatically fired. This trigger examines the threat level:
- If the threat is **High** or **Critical**, an internal alert is generated by calling `storm_pkg.send_internal_alert`. This creates a record in the `alerts` table and notifies internal defense teams.
- If the threat is **Critical**, a public alert is also issued by inserting a record into the `public_alerts` table, simulating warnings to the public through SMS or broadcast channels. 

## Step 7: System Logging and Monitoring
Throughout this process, the system can optionally record internal events in the `system_logs` table. This helps trace system activity, verify trigger execution, and monitor system health. The system can also use scheduled jobs to automatically clean up old data to maintain performance.

## Final Result
By the time the process completes:       
- Suspicious aircraft are recorded in the threat_log
- Defense teams receive internal alerts
- The public may be warned in critical cases
- All actions occur automatically without manual intervention                    
This design ensures real-time detection, rapid response, and reliable automation of aerial threat monitoring.
